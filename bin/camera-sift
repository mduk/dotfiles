#!/bin/bash

videos=$(ls *.mp4)
echo Found: $videos

echo -n "Scanning files..."
sorted=$(for file in $videos
  do
    duration=$(ffprobe -i $file -show_entries format=duration -v quiet -of csv="p=0")
    echo "$duration $file"
  done | sort -n | awk '{print $2}')
echo " done"

for video in $sorted
do
  echo -n "$video - Keep? "
  read -n 1 yn
  if [[ $yn == n* ]]
  then echo "DELETE!"
  else echo
  fi
done



#!/bin/bash

case $# in
  0)
    [[ ! -f $PWD/.www ]] && exit 1
    chromium-browser --app="$(cat $PWD/.www)" &
    ;;

  1)
    declare url

    if [[ $1 == http* ]] || [[ $1 == file* ]]
    then url="$1"
    elif [[ -f "$HOME/.config/www/$1" ]]
    then url=$(cat "$HOME/.config/www/$1")
    else url="http://$1"
    fi

    chromium-browser --app="$url" &
    ;;

  2)
    echo "$2" > $HOME/.config/www/$1
    ;;

  *)
    echo "Usage:"
    echo "  www <alias>       - Open aliased address"
    echo "  www <alias> <url> - Set address alias"
    ;;
esac

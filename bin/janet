#!/bin/bash

janet=192.168.0.34
key='janet'
keypath="$HOME/.ssh/${key}_rsa"

arg_key="-i $keypath"
ssh="$USER@$janet"

sync() {
  while [[ $# -gt 0 ]]
  do
    rsync -avhz -e "ssh ${arg_key}" "$HOME/$1/" "$ssh:~/$1"
    shift
  done
}

case "$1" in

  sync)
    sync ${2:-Documents Music Pictures}
    ;;

  push)
    rsync -avhz -e "ssh ${arg_key}" "$2/" "$ssh:$2"
    ;;

  pull) rsync -avhz -e "ssh ${arg_key}" "$ssh:$2/" "$2"
    ;;

  screen)
    ssh -XAt $arg_key "$ssh" "screen -DR $2"
    ;;

  *)
    ssh -XAt $arg_key "$ssh" "$@"
    ;;

esac

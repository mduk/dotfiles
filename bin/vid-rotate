#!/bin/bash

declare rotation="$1"
shift

case "$rotation" in
   90) declare vf="transpose=clock";;
  180) declare vf="transpose=clock;transpose=clock" ;;
  270) declare vf="transpose=cclock" ;;
  -90) declare vf="transpose=cclock" ;;
esac

for video in "$@"
do
  ffmpeg \
    -i "file:$video" \
    -c:a copy \
    -vf "$vf" \
    "file:${video%%.*}.r$rotation.${video##*.}"
done

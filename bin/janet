#!/bin/bash

janet=192.168.0.34
key='janet'
keypath="$HOME/.ssh/${key}_rsa"

arg_key="-i $keypath"
ssh="$USER@$janet"

sync() {
  while [[ $# -gt 0 ]]
  do
    rsync -avh -e "ssh ${arg_key}" "$HOME/$1/" "$ssh:/mnt/ARCHIVE-2/$1"
    shift
  done
}

case "$1" in
  sync) sync ${2:-Documents Music Pictures Templates};;
  push) rsync -avh -e "ssh ${arg_key}" "$2/" "$ssh:$2" ;;
  pull) rsync -avh -e "ssh ${arg_key}" "$ssh:$2/" "$2" ;;
     *) ssh -XA $arg_key "$ssh" "$@";;
esac

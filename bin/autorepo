#!/bin/bash

repo-name-is-empty() {
  [[ -z "$REPO" ]]
}

repo-was-already-cloned() {
  [[ -d "$HOME/Development/$REPO/.git" ]]
}

clone-repo() {
  git \
    clone \
    "git@github.com:${REPO}.git" \
    "$HOME/Development/$REPO/" 2>&1 | cat
}

while read REPO
do
  echo "$REPO"

  if repo-name-is-empty
  then continue
  fi

  if repo-was-already-cloned
  then continue
  else clone-repo
  fi | sed 's/^/   /'

done < <(cat $HOME/.config/autorepo)
